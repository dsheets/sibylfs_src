@type trace
# This trace tests that Marked timestamps of a file are set to a time
# value after a stat call on that file (see STAT_TS in
# fs_spec/posix/timestamps). The Marked timestamps of other files
# should remain as before.

Pid 1 -> mkdir /tmp_dir_2/ 0o777
Tau
Pid 1 <- -

Pid 1 -> mkdir /tmp_dir_1/ 0o777
Tau
Pid 1 <- -

dump-internal

# mkdir set all the timestamps of the new directory  (see MKDIR_TS:1 in fs_spec/posix/mkdir.md)

Pid 1 -> stat /tmp_dir_2/
Tau
Pid 1 <- RV_stat {st_dev=2049;st_ino=1;st_kind=S_IFDIR;st_perm=0o755;st_nlink=2;st_uid=0;st_gid=0;st_rdev=0;st_size=4096;st_atim={tv_sec=10;tv_nsec=0;}; st_mtim={ tv_sec=10;tv_nsec=0;};st_ctim={ tv_sec=10;tv_nsec=0;};}

dump-internal

Pid 1 -> stat /tmp_dir_1/
Tau
Pid 1 <- RV_stat {st_dev=2049;st_ino=1;st_kind=S_IFDIR;st_perm=0o755;st_nlink=2;st_uid=0;st_gid=0;st_rdev=0;st_size=4096;st_atim={tv_sec=0;tv_nsec=0;}; st_mtim={ tv_sec=0;tv_nsec=0;};st_ctim={ tv_sec=0;tv_nsec=0;};}


dump-internal

Pid 1 -> stat /tmp_dir_1/
Tau
Pid 1 <- RV_stat {st_dev=2049;st_ino=1;st_kind=S_IFDIR;st_perm=0o755;st_nlink=2;st_uid=0;st_gid=0;st_rdev=0;st_size=4096;st_atim={tv_sec=0;tv_nsec=0;}; st_mtim={ tv_sec=0;tv_nsec=0;};st_ctim={ tv_sec=0;tv_nsec=0;};}


Pid 1 -> stat /tmp_dir_1/
Tau
Pid 1 <- RV_stat {st_dev=2049;st_ino=1;st_kind=S_IFDIR;st_perm=0o755;st_nlink=2;st_uid=0;st_gid=0;st_rdev=0;st_size=4096;st_atim={tv_sec=0;tv_nsec=0;}; st_mtim={ tv_sec=0;tv_nsec=0;};st_ctim={ tv_sec=0;tv_nsec=0;};}


Pid 1 -> stat /tmp_dir_1/
Tau
Pid 1 <- RV_stat {st_dev=2049;st_ino=1;st_kind=S_IFDIR;st_perm=0o755;st_nlink=2;st_uid=0;st_gid=0;st_rdev=0;st_size=4096;st_atim={tv_sec=0;tv_nsec=0;}; st_mtim={ tv_sec=0;tv_nsec=0;};st_ctim={ tv_sec=0;tv_nsec=0;};}


dump-internal
